
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Utahraptor Maker</title>
    <meta
      name="description"
      content="Make a Utahraptor sprite in your browser. No download required! This can be used to predict what your offspring can look like/have a more customizable look for your raptors."
    />
    <meta
      name="google-site-verification"
      content="Pq-11M4oWkyd6Xt8Z-M-MTF0pm-jn-LPDpj9G-JcwD0"
    />
  </head>
  <body>
    <header>
      <a href="index.html">Utahraptor Maker</a> |
      <a href="predict-offspring.html">Predict Offspring</a>
    </header>

    <img draggable="true" class="cat-sprite-img" style="image-rendering: pixelated" />

    <form>
      <div class="form-row">
        <label>Sprite</label>
        <select class="sprite-no-select">
          <option value="0">Hatchling</option>
          <option value="5">Juvenile</option>
          <option value="6">Adolescent</option>
          <option value="12">Sub-Adult</option>
          <option value="20">Adult</option>
        </select>
        <button class="random-button" data-select-id="sprite-no-select">
          ðŸ”€
        </button>
      </div>
      <div class="form-row">
        <label>Pattern</label>
        <select class="pattern-type-select">
          <option>Default</option>          
          <option>Rover</option>
          <option>Rust</option>
          <option>Whispy</option>
          <option>Birch</option>
          <option>Tyto</option>
          <option>Red Tail</option>
          <option>Barbary</option>
          <option>Borealis</option>
          <option>Chickadee</option>
          <option>Ruby</option>
          <option>Beryl</option>
          <option>Tegu</option>
          <option>Cinnibar</option>
          <option>Tawny</option>
          <option>Jaguar</option>
        </select>
        <button class="random-button" data-select-id="pelt-name-select">
          ðŸ”€
        </button>
      </div>

      <div class="form-row">
        <label>Colour</label>
        <select class="colour-select">
          <option>CREAM</option>
          <option>PALEGINGER</option>
          <option>GOLDEN</option>
          <option>GINGER</option>
          <option>DARKGINGER</option>
          <option>SIENNA</option>
          <option>GREY</option>
          <option>DARKGREY</option>
          <option>GHOST</option>
          <option>BLACK</option>
          <option>WHITE</option>
          <option>PALEGREY</option>
          <option>SILVER</option>
          <option>LIGHTBROWN</option>
          <option>LILAC</option>
          <option>BROWN</option>
          <option>GOLDEN-BROWN</option>
          <option>DARKBROWN</option>
          <option>CHOCOLATE</option>
        </select>
        <button class="random-button" data-select-id="colour-select">ðŸ”€</button>
      </div>

      <div class="form-row">
        <label>Pigment mutations?</label>
        <input class="tortie-checkbox" type="checkbox" />
      </div>
      <div class="form-row">
        <label>Mutation Type</label>
        <select disabled class="mutation-type-select">
          <option>Albino</option>
          <option>Melanistic</option>
          <option>Pied</option>
          <option>Leucism</option>
          <option>Piebald</option>
          <option>Melanin Overproduction</option>
        </select>
        <button class="random-button" data-select-id="mutation-type-select">
          ðŸ”€
        </button>
      </div>

  <div class="form-row">
        <label>Tortie Pelt</label>
        <select disabled class="tortie-pattern-select">
          <option>SingleColour</option>
          <option>TwoColour</option>
          <option>Tabby</option>
          <option>Marbled</option>
          <option>Rosette</option>
          <option>Smoke</option>
          <option>Ticked</option>
          <option>Speckled</option>
          <option>Bengal</option>
          <option>Mackerel</option>
          <option>Classic</option>
          <option>Sokoke</option>
          <option>Agouti</option>
          <option>Singlestripe</option>
          <option>Masked</option>
        </select>
        <button class="random-button" data-select-id="tortie-pattern-select">
          ðŸ”€
        </button>
      </div>

 <div class="form-row">
        <label>Tortie Colour</label>
        <select disabled class="tortie-colour-select">
          <option>CREAM</option>
          <option>PALEGINGER</option>
          <option>GOLDEN</option>
          <option>GINGER</option>
          <option>DARKGINGER</option>
          <option>SIENNA</option>
          <option>GREY</option>
          <option>DARKGREY</option>
          <option>GHOST</option>
          <option>BLACK</option>
          <option>WHITE</option>
          <option>PALEGREY</option>
          <option>SILVER</option>
          <option>LIGHTBROWN</option>
          <option>LILAC</option>
          <option>BROWN</option>
          <option>GOLDEN-BROWN</option>
          <option>DARKBROWN</option>
          <option>CHOCOLATE</option>
        </select>
        <button class="random-button" data-select-id="tortie-colour-select">
          ðŸ”€
        </button>
      </div>
      
      <div class="form-row">
        <label>Tint</label>
        <select class="tint-select">
          <option>none</option>
          <option>pink</option>
          <option>gray</option>
          <option>red</option>
          <option>black</option>
          <option>orange</option>
          <option>yellow</option>
          <option>purple</option>
          <option>blue</option>
          <option>dilute</option>
          <option>warmdilute</option>
          <option>cooldilute</option>
        </select>
        <button class="random-button" data-select-id="tint-select">ðŸ”€</button>
      </div>

      <div class="form-row">
        <label>Eye Colour</label>
        <select class="eye-colour-select">
          <option>YELLOW</option>
          <option>AMBER</option>
          <option>HAZEL</option>
          <option>PALEGREEN</option>
          <option>GREEN</option>
          <option>BLUE</option>
          <option>DARKBLUE</option>
          <option>GREY</option>
          <option>CYAN</option>
          <option>EMERALD</option>
          <option>PALEBLUE</option>
          <option>PALEYELLOW</option>
          <option>GOLD</option>
          <option>HEATHERBLUE</option>
          <option>COPPER</option>
          <option>SAGE</option>
          <option>COBALT</option>
          <option>SUNLITICE</option>
          <option>GREENYELLOW</option>
          <option>BRONZE</option>
          <option>SILVER</option>
        </select>
        <button class="random-button" data-select-id="eye-colour-select">
          ðŸ”€
        </button>
      </div>

      <div class="form-row">
        <label>Eye Colour 2</label>
        <select class="eye-colour2-select">
          <option></option>
          <option>YELLOW</option>
          <option>AMBER</option>
          <option>HAZEL</option>
          <option>PALEGREEN</option>
          <option>GREEN</option>
          <option>BLUE</option>
          <option>DARKBLUE</option>
          <option>GREY</option>
          <option>CYAN</option>
          <option>EMERALD</option>
          <option>PALEBLUE</option>
          <option>PALEYELLOW</option>
          <option>GOLD</option>
          <option>HEATHERBLUE</option>
          <option>COPPER</option>
          <option>SAGE</option>
          <option>COBALT</option>
          <option>SUNLITICE</option>
          <option>GREENYELLOW</option>
          <option>BRONZE</option>
          <option>SILVER</option>
        </select>
        <button class="random-button" data-select-id="eye-colour2-select">
          ðŸ”€
        </button>
      </div>

      <div class="form-row">
        <label>Skin</label>
        <select class="skin-colour-select">
          <option>BLACK</option>
          <option>PINK</option>
          <option>DARKBROWN</option>
          <option>BROWN</option>
          <option>LIGHTBROWN</option>
          <option>DARK</option>
          <option>DARKGREY</option>
          <option>GREY</option>
          <option>DARKSALMON</option>
          <option>SALMON</option>
          <option>PEACH</option>
          <option>DARKMARBLED</option>
          <option>MARBLED</option>
          <option>LIGHTMARBLED</option>
          <option>DARKBLUE</option>
          <option>BLUE</option>
          <option>LIGHTBLUE</option>
          <option>RED</option>
        </select>
        <button class="random-button" data-select-id="skin-colour-select">
          ðŸ”€
        </button>
      </div>

      <div class="form-row">
        <label>Scar</label>
        <select class="scar-select">
          <option></option>
          <optgroup label="Animal Scars (scars1)">
            <option>ONE</option>
            <option>TWO</option>
            <option>THREE</option>
            <option>TAILSCAR</option>
            <option>SNOUT</option>
            <option>CHEEK</option>
            <option>SIDE</option>
            <option>THROAT</option>
            <option>TAILBASE</option>
            <option>BELLY</option>
            <option>LEGBITE</option>
            <option>NECKBITE</option>
            <option>FACE</option>
            <option>MANLEG</option>
            <option>BRIGHTHEART</option>
            <option>MANTAIL</option>
            <option>BRIDGE</option>
            <option>RIGHTBLIND</option>
            <option>LEFTBLIND</option>
            <option>BOTHBLIND</option>
            <option>BEAKCHEEK</option>
            <option>BEAKLOWER</option>
            <option>CATBITE</option>
            <option>RATBITE</option>
            <option>QUILLCHUNK</option>
            <option>QUILLSCRATCH</option>
            <option>HINDLEG</option>
            <option>BACK</option>
            <option>QUILLSIDE</option>
            <option>SCRATCHSIDE</option>
            <option>BEAKSIDE</option>
            <option>CATBITETWO</option>
            <option>FOUR</option>
          </optgroup>
          <optgroup label="Event Scars (scars3)">
            <option>SNAKE</option>
            <option>TOETRAP</option>
            <option>BURNPAWS</option>
            <option>BURNTAIL</option>
            <option>BURNBELLY</option>
            <option>BURNRUMP</option>
            <option>FROSTFACE</option>
            <option>FROSTTAIL</option>
            <option>FROSTMITT</option>
            <option>FROSTSOCK</option>
            <option>TOE</option>
            <option>SNAKETWO</option>
          </optgroup>
          <optgroup label="Missing Parts (scars2)">
            <option>LEFTEAR</option>
            <option>RIGHTEAR</option>
            <option>NOTAIL</option>
            <option>HALFTAIL</option>
            <option>NOPAW</option>
            <option>NOLEFTEAR</option>
            <option>NORIGHTEAR</option>
            <option>NOEAR</option>
          </optgroup>
        </select>
        <button class="random-button" data-select-id="scar-select">ðŸ”€</button>
      </div>

      <div class="form-row">
        <label>Shading</label>
        <input class="shading-checkbox" type="checkbox" />
      </div>

      <div class="form-row">
        <label>Reverse</label>
        <input class="reverse-checkbox" type="checkbox" />
      </div>

      <div class="form-row">
        <label>BG Colour</label>
        <select class="bg-color-select">
          <option value="rgb(0 0 0 / 0)">Transparent</option>
          <option value="rgb(255 255 255)">White</option>
          <option value="rgb(0 0 0)">Black</option>
          <option value="rgb(0 255 0)">Lime Green</option>
          <option value="rgb(206 194 168)">ClanGen Light</option>
          <option value="rgb(57 50 36)">ClanGen Dark</option>
          <option value="rgb(39 45 79)">Starry Blue</option>
          <option value="rgb(158 151 170)">Unknown Grey</option>
          <option value="rgb(42 17 13)">Starless Red</option>
        </select>
      </div>

      <div class="form-row">
        <label>Scale</label>
        <select class="zoom-level">
          <option value="1">1x</option>
          <option value="2">2x</option>
          <option selected value="3">3x</option>
          <option value="4">4x</option>
        </select>
      </div>

      <div>
        <button class="randomize-all-button">Randomize</button>
      </div>
      <div>
        <button class="copy-url-button">Copy this cat's URL</button>
      </div>
      <div>
        <button class="import-json-button">Import JSON data</button>
      </div>

      <div class="sharecode-div form-row">
        <label
          >Appearance Data <br />
          (does not contain all data; use only as reference)</label
        >
        <textarea readonly rows="10" class="sharecode"></textarea>
      </div>
    </form>

    <div>
      <p>
        Sprites are by the ClanGen team and are licensed under
        <a href="https://creativecommons.org/licenses/by-nc/4.0/"
          >CC BY-NC 4.0</a
        >. Images on this site have been divided from their spritesheets into
        individual sprites.
      </p>

      <p>
        Please credit
        <a href="https://sablesteel.itch.io/clan-gen-fan-edit">ClanGen</a>
        when using these sprites. You do not have to credit this site.
      </p>

      <p>
        <b
          >Do not use sprites created by this generator for commercial
          purposes.</b
        >
      </p>

      <p>
        Source code is available
        <a href="https://github.com/cgen-tools/pixel-cat-maker"
          >here on GitHub</a
        >. Currently up-to-date with v0.12.2 of ClanGen.
      </p>
    </div>

    <footer>
      <p>
        Check out another project from this site's creator:
        <a href="https://clangensim.pages.dev"
          >a petsite-inspired way for you to play ClanGen in your browser</a
        >!
      </p>
    </footer>
<script>
  // Stop the form from submitting anywhere
  document.querySelector("form")?.addEventListener("submit", e => e.preventDefault());

  // Map broken data-select-id values to real classes
  const SELECT_ALIASES = {
    "pelt-name-select": "pattern-type-select"
  };

  document.querySelectorAll("button").forEach(btn => {
    // Prevent ALL buttons from submitting the form
    btn.type = "button";
  });

  document.querySelectorAll(".random-button").forEach(button => {
    button.addEventListener("click", e => {
      e.preventDefault();

      let key = button.dataset.selectId;
      if (!key) return;

      // Fix bad IDs via alias table
      key = SELECT_ALIASES[key] ?? key;

      // Try ID first, then class
      const select =
        document.getElementById(key) ||
        document.querySelector("." + key);

      if (!select || select.disabled) return;

      const options = Array.from(select.options).filter(
        o => o.value !== "" && !o.disabled
      );

      if (!options.length) return;

      const pick = options[Math.floor(Math.random() * options.length)];
      select.value = pick.value;

      // Force update for sprite logic
      select.dispatchEvent(new Event("change", { bubbles: true }));
    });
  });
</script>
<script>
  // ---- 1) Enable/disable "Pigment mutations" dropdowns ----
  function setMutationsEnabled(enabled) {
    const mutationSelect = document.querySelector(".mutation-type-select");
    const tortiePatternSelect = document.querySelector(".tortie-pattern-select");
    const tortieColourSelect = document.querySelector(".tortie-colour-select");

    [mutationSelect, tortiePatternSelect, tortieColourSelect].forEach(sel => {
      if (!sel) return;
      sel.disabled = !enabled;

      // If we're turning the system OFF, clear selections (optional but sane)
      if (!enabled) {
        sel.selectedIndex = 0;
        sel.dispatchEvent(new Event("change", { bubbles: true }));
      } else {
        // If turning ON, poke change so sprite logic updates if it depends on enabled state
        sel.dispatchEvent(new Event("change", { bubbles: true }));
      }
    });
  }

  // Hook checkbox
  const tortieCheckbox = document.querySelector(".tortie-checkbox");
  if (tortieCheckbox) {
    tortieCheckbox.addEventListener("change", () => {
      setMutationsEnabled(tortieCheckbox.checked);
    });

    // Initialize on load (in case URL/import sets it)
    setMutationsEnabled(tortieCheckbox.checked);
  }

  // ---- 2) Remove the UI rows you said you don't want ----
  // Targets are the select elements inside those rows.
  const REMOVE_ROW_SELECTORS = [
    ".white-patches-select",
    ".points-select",
    ".white-patches-tint-select",
    ".vitiligo-select",
    ".accessory-select",
    ".lineart-select"
  ];

  REMOVE_ROW_SELECTORS.forEach(sel => {
    document.querySelectorAll(sel).forEach(node => {
      const row = node.closest(".form-row");
      if (row) row.remove();
    });
  });

  // Bonus: prevent form submit reloads if you haven't already fixed that elsewhere
  document.querySelector("form")?.addEventListener("submit", e => e.preventDefault());
  document.querySelectorAll("button").forEach(btn => (btn.type = "button"));
</script>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
